# 设计一个登录界面 #

包含：用户名 密码 是否记住用户名密码的checkbox 以及登录按钮

![](http://i.imgur.com/J348Z5g.jpg)

- 需求场景
- 

scenario1：用户名、密码 只要有一个为空的情况下，提示用户，二者都不能为空

scenario2：用户名、密码都不为空，checkbox没有勾选的情况下，直接显示logging

scenario3：用户名、密码都不为空，checkbox没有勾选的情况下，将用户数据保存，并显示logging

- 画UI
- 
整理使用线性布局（orientation：vertical）

   android:orientation="vertical"

从上到下依次排列：

	<LinearLayout
	>
	<EditText
	/>
	
	<EditText
	/>
	
	<RelativeLayout
	>
	</RelativeLayout>
	</LinearLayout>

注意密码的EditText要给一个输入属性是passwd，这样

    android:inputType="textPassword"


在RelativeLayout中放置checkbox 以及登录的button

    <RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="20dp">
    <CheckBox
    android:id="@+id/checkbox_rem"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/remember"
    android:layout_alignParentStart="true"
    android:layout_alignParentLeft="true"
    />
    <Button
    android:id="@+id/button_login"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/login"
    android:layout_alignBaseline="@id/checkbox_rem"
    android:layout_alignParentEnd="true"
    android:layout_alignParentRight="true"/>
    
    </RelativeLayout>

layout_alignBaseline属性是两个控件 中心对齐

layout_alignParentLeft是将控件一直放在RelativeLayout的左侧

layout_alignParentStart 是为了兼容有些语言是从右往左读的



- 业务逻辑
- 
1.获取4个控件

在button上设置一个监听事件，注意匿名内部类的写法，注意大小写OnClickListener 以及 onClick。

	button.setOnClickListener(new View.OnClickListener(){
	@Override
	public void onClick(View v){
	}


2.点击button后，根据scenario编写相应的业务逻辑

为了可以存储用户的信息，定义一个类class Userinfo，设置saveInfo和getInfo方法

saveUserInfo中将信息写入文件
getInfo将用户名、密码，ischecked状态从文件中读出来，读的时候，file--》输入流--》流入流reader--》bufferReader

    File file = new File("/data/data/com.example.administrator.login/info.txt");
    FileInputStream fileInputStream = new FileInputStream(file);
    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(fileInputStream));
    String result = bufferedReader.readLine();

注意恢复信息时，checkbox的设置方法是：setChecked

    if ("Remember".equals(hashMap.get("isChecked"))){
    checkBox.setChecked(true);
    }


